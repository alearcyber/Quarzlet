<!DOCTYPE html>

{% extends "base.html" %} {% block content %}
<div class="container mt-5 mb-5 bg-light">
    <div class="row justify-content-center align-items-center">
        <div class="col-md-9">
            <div class="shadow-sm p-4 rounded bg-white">
                <!-- Content goes here -->
                <h2 class="text-center">Create a new quiz!</h2>
                <p class="text-center">Please fill out all the fields: Name of the quiz, Question, four answer choices, and select the correct answer.</p>
            </div>
        </div>
    </div>

    {% if quiz_data['name'] %} 
        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">
                    <div class="form-inline">
                        <p class="mb-2">Quiz title:</p> 
                        <p class="border rounded p-2 bg-light ml-4 mb-2 flex-grow-1"> {{ quiz_data['name'] }}</p>
                    </div>
                </div>
            </div>
        </div>                
    {% endif %}

    {% if quiz_data['description'] %} 
        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">
                    <div class="form-inline">
                        <p class="mb-2">Quiz title:</p> 
                        <p class="border rounded p-2 bg-light ml-4 mb-2 flex-grow-1"> {{ quiz_data['description'] }}</p>
                    </div>
                </div>
            </div>
        </div>            
    {% endif %}

    {% if quiz_data['quiz']|length > 0 %}
        {% for question in quiz_data['quiz'] %}
        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">

                    <div class="form-inline">
                        <p class="mb-2">Question {{ loop.index }}</p> 
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1"> {{ question['question'] }}</p>
                    </div>

                    {% for i in range(4) %}
                        <div class="form-inline">
                            <input type="radio" class="ml-5 mr-3" {% if question['correctanswer'] == question['answerChoices'][i] %} checked disabled {% else %} disabled {% endif %}>
                            <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['answerChoices'][i] }}</p>
                        </div>
                    {% endfor %}    
                    <!--
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['correctanswer'] == question['answerChoices'][1] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['answerChoices'][1] }}</p>
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['correctanswer'] == question['answerChoices'][2] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['answerChoices'][2] }}</p>
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['correctanswer'] == question['answerChoices'][3] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['answerChoices'][3] }}</p>
                    </div>
                    -->
                </div>
            </div>
        </div>
        {% endfor %}
    {% endif %}    

    <form method="post" action="/update">

        <div class="row my-2 justify-content-center align-items-center" {% if quiz_data['name'] %} style="display: none;" {% endif %}>
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">
                    <div class="form-inline">
                        <label for="quiztitle" class="mb-2">Quiz Title:</label>
                        <input type="text" name="quiztitle" class="form-control ml-4 mb-2 flex-grow-1 bg-light" placeholder="Enter the title of the quiz" value>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="row my-2 justify-content-center align-items-center" {% if quiz_data['description'] %} style="display: none;" {% endif %}>
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">
                    <div class="form-inline">
                        <label for="quizdescription" class="mb-2">Description:</label>
                        <input type="text" name="quizdescription" class="form-control ml-2 mb-2 flex-grow-1 bg-light" placeholder="Enter the discription of the quiz" value>
                    </div>
                </div>
            </div>
        </div>

        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">

                    <div class="form-inline">
                        <label for="question" class="mb-2">Question {{ quiz_data['quiz']|length + 1 }}</label>
                        <input type="text" name="question" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter a question here">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionA" required>
                        <input type="text" name="optionA" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionB" required>
                        <input type="text" name="optionB" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionC" required> 
                        <input type="text" name="optionC" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionD" required> 
                        <input type="text" name="optionD" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                
                </div>
            </div>
        </div>

        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="card text-center shadow-sm">
                    <div class="card-body">

                        <div class="form-group text-center">
                            <input type="hidden" name="addQuestion" value="true">
                            <button type="submit" class="btn btn-outline-primary btn-block">Add Question</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </form>

</div>
{% endblock %}

{% block navbottom %}

<form method="post" action="/congrats">
    <div class="row no-gutters fixed-bottom" style="height: 8vh">
        <nav class="navbar navbar-custom navbar-expand-lg flex-md-nowrap p-2">
            <button class="btn btn-outline-light ml-auto mr-4" type="submit" name="createQuiz">Create</button>
        </nav>
    </div>
</form>


{% endblock %}