<!DOCTYPE html>

{% extends "base.html" %} {% block content %}
<div class="container mt-5 mb-5 bg-light">
    <div class="row justify-content-center align-items-center">
        <div class="col-md-9">
            <div class="shadow-sm p-4 rounded bg-white">
                <!-- Content goes here -->
                <h2 class="text-center">Create a new quiz!</h2>
                <p class="text-center">Please fill out all the fields: Name of the quiz, Question, four answer choices, and select the correct answer.</p>
            </div>
        </div>
    </div>
    <div class="row my-2 justify-content-center align-items-center">
        <div class="col-md-9">
            <div class="shadow-sm p-4 rounded bg-white">
                <form method="post" action="/">
                    <div class="form-inline">
                        <label for="quiztitle" class="mb-2">Quiz Title:</label>
                        <input type="text" name="quiztitle" class="form-control ml-4 mb-2 flex-grow-1 bg-light" placeholder="Enter the title of the quiz" value>
                    </div>
                </form>
            </div>
        </div>
    </div>

    {% if quiz_data['questions']|length > 0 %}
        {% for question in quiz_data['questions'] %}
        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">

                    <div class="form-inline">
                        <p class="mb-2">Question {{ loop.index }}</p> 
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1"> {{ question['question'] }}</p>
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['answer'] == question['optionA'] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['optionA'] }}</p>
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['answer'] == question['optionB'] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['optionB'] }}</p>
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['answer'] == question['optionC'] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['optionC'] }}</p>
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" {% if question['answer'] == question['optionD'] %} checked disabled {% else %} disabled {% endif %}>
                        <p class="border rounded p-2 bg-light ml-3 mb-2 flex-grow-1">{{ question['optionD'] }}</p>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    {% endif %}    

    <form method="post" action="">
        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="shadow-sm p-4 rounded bg-white">

                    <div class="form-inline">
                        <label for="question" class="mb-2">Question {{ quiz_data['questions']|length + 1 }}</label>
                        <input type="text" name="question" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter a question here">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionA">
                        <input type="text" name="optionA" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionB">
                        <input type="text" name="optionB" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionC"> 
                        <input type="text" name="optionC" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                    <div class="form-inline">
                        <input type="radio" class="ml-5 mr-3" name="correct" value="optionD"> 
                        <input type="text" name="optionD" class="form-control mx-3 mb-2 flex-grow-1 bg-light" placeholder="Enter an answer choice">
                    </div>
                
                </div>
            </div>
        </div>

        <div class="row my-2 justify-content-center align-items-center">
            <div class="col-md-9">
                <div class="card text-center shadow-sm">
                    <div class="card-body">

                        <div class="form-group text-center">
                            <input type="hidden" name="addQuestion" value="true">
                            <button type="submit" class="btn btn-outline-primary btn-block">Add Question</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </form>

</div>
{% endblock %}

{% block navbottom %}

<form method="post" action="/congrats">
    <div class="row no-gutters fixed-bottom" style="height: 8vh">
        <nav class="navbar navbar-custom navbar-expand-lg flex-md-nowrap p-2">
            <button class="btn btn-outline-light ml-auto mr-4" type="submit" name="createQuiz">Create</button>
        </nav>
    </div>
</form>


{% endblock %}